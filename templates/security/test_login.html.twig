{% extends 'base.html.twig' %}

{% block title %}Test de Connexion - EduTrip{% endblock %}

{% block stylesheets %}
{{ parent() }}
<style>
    .separator {
        display: flex;
        align-items: center;
        text-align: center;
    }

    .separator .line {
        flex-grow: 1;
        height: 1px;
        background-color: #dee2e6;
    }
</style>
{% endblock %}

{% block Navbar %}
    <a href="{{ path('app_home') }}" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
        <h2 class="m-0 text-primary"><i class="fa fa-book me-3"></i>EduTrip</h2>
    </a>
    <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto p-4 p-lg-0">
            <a href="{{ path('app_home') }}" class="nav-item nav-link">Accueil</a>
            <a href="{{ path('app_universities') }}" class="nav-item nav-link">Universités</a>
            <a href="{{ path('app_housing') }}" class="nav-item nav-link">Hébergement</a>
            {% if app.user %}
                <a href="{{ path('app_avis_index') }}" class="nav-item nav-link">Avis</a>
            {% endif %}
            <div class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Agences </a>
                <div class="dropdown-menu fade-down m-0">
                    <a href="{{ path('app_agencies') }}" class="dropdown-item">Liste des agences</a>
                    <a href="{{ path('app_flights') }}" class="dropdown-item">Vols</a>
                </div>
            </div>
            <a href="{{ path('app_flights') }}" class="nav-item nav-link">Vols</a>
            <a href="{{ path('app_contact') }}" class="nav-item nav-link">Contact</a>
        </div>
        <a href="{{ path('app_register') }}" class="btn btn-primary py-4 px-lg-5 d-none d-lg-block">Rejoignez-nous<i class="fa fa-arrow-right ms-3"></i></a>
    </div>
{% endblock %}

{% block body %}
    <div class="container-fluid py-5">
        <div class="container py-5">
            <div class="text-center mb-5">
                <h5 class="text-primary text-uppercase mb-3" style="letter-spacing: 5px;">Test de Connexion</h5>
                <h1>Connexion sans reCAPTCHA</h1>
                <p class="text-muted">Utilisez cette page pour tester la connexion sans vérification reCAPTCHA</p>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <div class="card shadow-lg border-0 rounded-lg">
                        <div class="card-body p-5">
                            {% if error %}
                                <div class="alert alert-danger">
                                    {{ error }}
                                </div>
                            {% endif %}

                            <form action="{{ path('app_test_login') }}" method="post">
                                <div class="form-floating mb-3">
                                    <input type="email" name="mail" id="mail" class="form-control" placeholder="Email" value="{{ last_username }}" required autofocus>
                                    <label for="mail">Email</label>
                                </div>

                                <div class="form-floating mb-3">
                                    <input type="password" name="password" id="password" class="form-control" placeholder="Mot de passe" required>
                                    <label for="password">Mot de passe</label>
                                </div>

                                <div class="d-flex align-items-center justify-content-center mb-0">
                                    <button class="btn btn-primary btn-lg px-5" type="submit">Se connecter</button>
                                </div>
                            </form>
                        </div>
                        <div class="card-footer text-center py-3">
                            <div class="small">
                                <a href="{{ path('app_login') }}" class="text-decoration-none">Retour à la page de connexion normale</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
