{# templates/pack_agence/stats.html.twig #}

{% extends 'admin/homeadmin.html.twig' %}

{% block title %}Statistiques des Packs d'Agence{% endblock %}

{% block content %}
    <div class="container mt-5">
        <h1 class="text-center">Statistiques des Packs d'Agence</h1>

        <div id="chart_div"></div>

        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
            google.charts.load('current', {'packages':['corechart', 'bar']});
            google.charts.setOnLoadCallback(drawStuff);

            function drawStuff() {
                var data = new google.visualization.arrayToDataTable({{ chartData|raw }});

                var options = {
                    title: 'Nombre de Packs par Année',
                    chartArea: {width: '50%'},
                    hAxis: {
                        title: 'Année',
                        minValue: 0
                    },
                    vAxis: {
                        title: 'Nombre de Packs'
                    }
                };

                var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
                chart.draw(data, options);
            }
        </script>
    </div>
{% endblock %}
