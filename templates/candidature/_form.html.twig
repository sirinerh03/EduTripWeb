

{{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
<div class="row g-3">
    <div class="col-12">
        {{ form_row(form.university) }}
    </div>

    <div class="col-12">
        {{ form_row(form.etat) }}
    </div>

    <div class="col-md-4">
        {% if app.request.attributes.get('_route') ends with '_edit' and candidature.id and candidature.cv %}
            <div class="mb-2">
                <small class="text-muted">Current CV: {{ candidature.cv }}</small>
            </div>
        {% endif %}
        {{ form_row(form.cv, {
            'label_attr': {'class': 'form-label fw-bold'},
            'attr': {'class': 'form-control'},
            'row_attr': {'class': app.request.attributes.get('_route') ends with '_edit' ? 'mb-0' : ''},
            'help': app.request.attributes.get('_route') ends with '_edit' ? 'Leave empty to keep current file' : null,
            'help_attr': {'class': 'text-muted small'}
        }) }}
    </div>

    <div class="col-md-4">
        {% if app.request.attributes.get('_route') ends with '_edit' and candidature.id and candidature.lettreMotivation %}
            <div class="mb-2">
                <small class="text-muted">Current Cover Letter: {{ candidature.lettreMotivation }}</small>
            </div>
        {% endif %}
        {{ form_row(form.lettre_motivation, {
            'label_attr': {'class': 'form-label fw-bold'},
            'attr': {'class': 'form-control'},
            'row_attr': {'class': app.request.attributes.get('_route') ends with '_edit' ? 'mb-0' : ''},
            'help': app.request.attributes.get('_route') ends with '_edit' ? 'Leave empty to keep current file' : null,
            'help_attr': {'class': 'text-muted small'}
        }) }}
    </div>

    <div class="col-md-4">
        {% if app.request.attributes.get('_route') ends with '_edit' and candidature.id and candidature.diplome %}
            <div class="mb-2">
                <small class="text-muted">Current Diploma: {{ candidature.diplome }}</small>
            </div>
        {% endif %}
        {{ form_row(form.diplome, {
            'label_attr': {'class': 'form-label fw-bold'},
            'attr': {'class': 'form-control'},
            'row_attr': {'class': app.request.attributes.get('_route') ends with '_edit' ? 'mb-0' : ''},
            'help': app.request.attributes.get('_route') ends with '_edit' ? 'Leave empty to keep current file' : null,
            'help_attr': {'class': 'text-muted small'}
        }) }}
    </div>

    <div class="col-12 mt-4">
        <div class="d-flex justify-content-center gap-3">
            <a href="{{ path('app_candidature_index') }}" class="btn btn-outline-primary py-3 px-5">
                <i class="fas fa-arrow-left me-2"></i>Back to List
            </a>
            <button type="submit" class="btn btn-primary py-3 px-5">
                <i class="fas {{ button_label is defined ? 'fa-save' : 'fa-plus-circle' }} me-2"></i>
                {{ button_label|default('Add Candidature') }}
            </button>
            {% if app.request.attributes.get('_route') ends with '_edit' %}
                {{ include('candidature/_delete_form.html.twig') }}
            {% endif %}
        </div>
    </div>
</div>
{{ form_end(form) }}
