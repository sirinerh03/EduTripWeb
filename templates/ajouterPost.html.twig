{% extends 'base.html.twig' %}

{% block title %}Nouveau Post{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h2 class="text-center">Créer un nouveau Post</h2>
                </div>
                <div class="card-body">
                    {{ form_start(form, {'attr': {'class': 'form-horizontal', 'novalidate': 'novalidate'}}) }}
                    
                    <div class="form-group mb-4">
                        {{ form_label(form.contenu, 'Contenu du post', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.contenu, {'attr': {
                            'class': 'form-control',
                            'rows': 5,
                            'placeholder': 'Écrivez votre post ici...'
                        }}) }}
                        <div class="form-error-message">
                        {{ form_errors(form.contenu) }}
                    </div>
                    </div>
                    
                    <div class="form-group mb-4">
                        {{ form_label(form.categorie, 'Catégorie', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.categorie, {'attr': {
                            'class': 'form-control',
                            'placeholder': 'Ex: Voyage, Études...'
                        }}) }}
                           <div class="form-error-message">
                        {{ form_errors(form.categorie) }}
                            </div>
                    </div>
                    
                    <div class="form-group mb-4">
                        {{ form_label(form.imageFile, 'Image', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.imageFile, {'attr': {
                            'class': 'form-control-file'
                        }}) }}
                        <small class="form-text text-muted">Formats acceptés: JPEG, PNG (max 2MB)</small>
                       <div class="form-error-message"> {{ form_errors(form.imageFile) }}
                    </div>
                    </div>
                    
                    <div class="form-group text-center mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="fas fa-paper-plane me-2"></i> Publier
                        </button>
                        <a href="{{ path('app_posts') }}" class="btn btn-outline-secondary btn-lg ms-2">
                            <i class="fas fa-arrow-left me-2"></i> Annuler
                        </a>
                    </div>
                    <div class="form-error-message">
                    {{ form_end(form) }}
                </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block stylesheets %}
<style>
    .form-control {
        border-radius: 0.25rem;
        padding: 10px 15px;
        border: 1px solid #ced4da;
    }
    .form-control:focus {
        border-color: #80bdff;
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }
    .card {
        border: none;
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    }
    .card-header {
        border-radius: 0.375rem 0.375rem 0 0 !important;
    }
</style>
{% endblock %}